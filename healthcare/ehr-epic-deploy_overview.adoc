---
sidebar: sidebar 
permalink: healthcare/ehr-epic-deploy_overview.html 
keywords: flexpod, datacenter, ehr, deployment, epic, architecture, solution, benefits 
summary: 本技术报告面向计划在 FlexPod 系统上部署 Epic 的客户。其中简要概述了适用于 Epic 的 FlexPod 架构，并介绍了用于部署适用于医疗保健的 Epic 的 FlexPod 的设置和安装。 
---
= TR-4693 ：《适用于 Epic EHR 的 FlexPod 数据中心部署指南》
:hardbreaks:
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./../media/


Brian O ’ Mahony ， NetApp Ganesh Kamath ， NetApp Mike Brennan ， Cisco

与以下合作伙伴：image:cisco logo.png["错误：缺少图形映像"]

本技术报告面向计划在 FlexPod 系统上部署 Epic 的客户。其中简要概述了适用于 Epic 的 FlexPod 架构，并介绍了用于部署适用于医疗保健的 Epic 的 FlexPod 的设置和安装。

部署用于托管 Epic 超空间， InterSystems Cach é 数据库， Cogito clarity 分析和报告套件以及托管 Epic 应用程序层的服务服务器的 FlexPod 系统为可快速部署的可靠高性能基础架构提供了一个集成平台。FlexPod 集成平台由经验丰富的 FlexPod 渠道合作伙伴部署，并由 Cisco 和 NetApp 技术支持中心提供支持。



== 解决方案的整体优势

通过在 FlexPod 架构基础上运行 Epic 环境，医疗保健组织有望提高员工工作效率，降低资本支出和运营支出。采用 Epic 的 FlexPod 数据中心可为医疗保健行业带来以下优势：

* * 简化操作并降低成本。 * 通过将原有专有的 RISC/UNIX 平台更换为更高效且可扩展的共享资源，无论临床医生身在何处，都能为其提供支持，从而消除了这些平台的成本和复杂性。此解决方案可提高资源利用率以提高 ROI 。
* * 更快地部署基础架构。 * 无论位于现有数据中心还是远程位置，采用 Epic 的 FlexPod 数据中心经过集成和测试的设计都能帮助客户以更少的工作量在更短的时间内启动和运行新基础架构。
* * 横向扩展架构。 * 无需重新配置正在运行的应用程序，即可将 SAN 和 NAS 从数 TB 扩展到数十 PB 。
* * 无中断运行。 * 在不中断业务的情况下执行存储维护，硬件生命周期操作和软件升级。
* * 安全多租户。 * 此优势可满足虚拟化服务器和存储共享基础架构日益增长的需求，从而可以安全地多租户特定于设施的信息，尤其是托管多个数据库和软件实例时。
* * 池化资源优化。 * 此优势有助于减少物理服务器和存储控制器数量，负载平衡工作负载需求，并在提高性能的同时提高利用率。
* * 服务质量（ QoS ）。 * FlexPod 可在整个堆栈上提供 QoS 。行业领先的 QoS 存储策略可在共享环境中提供不同的服务级别。这些策略可以为工作负载提供最佳性能，并有助于隔离和控制失控的应用程序。
* * 存储效率。 * 借助 NetApp 7 ： 1 存储效率担保降低存储成本。
* * 灵活性。 * FlexPod 系统提供的行业领先的工作流自动化，流程编排和管理工具可以使 IT 更快速地响应业务请求。这些业务请求包括 Epic 备份和配置其他测试和培训环境，以及为人口健康管理计划复制分析数据库等。
* * 工作效率。 * 快速部署和扩展此解决方案，以获得最佳临床医生最终用户体验。
* * Data Fabric 。 * NetApp Data Fabric 架构可以跨站点，跨物理边界和跨应用程序将数据集于一体。NetApp Data Fabric 专为以数据为中心的世界中的数据驱动型企业而构建。数据在多个位置创建和使用，通常需要利用并与其他位置，应用程序和基础架构共享。客户希望能够以一致且集成的方式管理数据。它提供了一种管理数据的方式，可以控制数据并简化日益增加的 IT 复杂性。




== FlexPod



=== Epic EHR 基础架构的新方法

医疗保健提供商组织仍然面临着最大的压力，无法从对行业领先的 Epic 电子健康记录（ Electronic Health records ， EHRs ）的大量投资中获得最大收益。对于任务关键型应用程序，客户在为 Epic 解决方案设计数据中心时，通常会为其数据中心架构确定以下目标：

* Epic 应用程序的高可用性
* 高性能
* 在数据中心轻松实施 Epic
* 敏捷性和可扩展性，支持新 Epic 版本或应用程序的增长
* 成本效益
* 与 Epic 指南和目标平台保持一致
* 易管理性，稳定性和易支持性
* 强大的数据保护，备份，恢复和业务连续性


随着 Epic 用户不断发展壮大，他们的组织将成为负责的医疗保健组织，并根据捆绑式更严格的报销模式进行调整，我们面临的挑战是如何以更高效，更灵活的 IT 交付模式提供所需的 Epic 基础架构。

在过去十年中， Epic 基础架构通常由基于专有的基于 RISC 处理器的服务器组成，这些服务器运行专有版本的 UNIX 和传统 SAN 存储阵列。这些服务器和存储平台几乎无法通过虚拟化实现，而且由于 IT 预算限制日益增加，可能会导致高昂的资本和运营成本。

Epic 现在支持一个生产目标平台，该平台由一个采用 Intel Xeon 处理器的 Cisco Unified Computing System （ Cisco UCS ）组成，该系统使用 VMware ESXi 进行虚拟化，并运行 Red Hat Enterprise Linux （ RHEL ）。随着 Epic 在运行 ONTAP 的 NetApp 存储方面的高舒适性级别排名， Epic 数据中心优化的新时代已经开始。



=== 经过预先验证的融合基础架构的价值

Epic 对客户的硬件要求具有规范性，因为它对提供可预测的低延迟系统性能和高可用性具有重要要求。

FlexPod 是 Cisco 和 NetApp 战略合作伙伴关系中经过严格测试的预先验证的融合基础架构，专为提供可预测的低延迟系统性能和高可用性而设计和设计。这种方法可以为 Epic 提供高舒适性，并最终为 Epic EHR 系统的用户提供最佳响应时间。

Cisco 和 NetApp 的 FlexPod 解决方案通过高性能，模块化，预先验证，融合，虚拟化， 高效，可扩展且经济高效的平台。它提供：

* * 模块化架构。 * FlexPod 通过针对每个特定工作负载专门配置的 FlexPod 平台来满足 Epic 模块化架构的各种需求。所有组件均通过集群模式服务器和存储管理网络结构以及一个统一的管理工具集进行连接。
* * 加速应用程序部署。 * 经过预先验证的架构可缩短实施集成时间并降低风险，以加快 Epic 项目计划的进度。适用于 Epic 的 NetApp OnCommand Workforce Automation （ OnCommand WFA ）工作流可自动执行 Epic 备份和刷新，并且不再需要自定义不受支持的脚本。无论解决方案是用于首次推出 Epic ，硬件更新还是扩展，都可以将更多资源转移到项目的业务价值上。
* * 融合堆栈各级均采用行业领先的技术。 * Cisco ， NetApp ， VMware 和 Red Hat 在服务器，网络，存储和开放式系统 Linux 等类别中均被行业分析师评为第一或第二。
* * 利用标准化，灵活的 IT 保护投资。 * FlexPod 参考架构可预测新产品版本和更新，并持续进行严格的互操作性测试，以适应未来技术的推出。
* * 在广泛的环境中进行了成熟的部署。 * FlexPod 已经过预先测试，并通过常见虚拟机管理程序，操作系统，应用程序和基础架构软件的联合验证，已在 Epic 的一些最大客户组织中安装。




=== 经验证的 FlexPod 架构和合作支持

FlexPod 是一款经验证的数据中心解决方案，可提供灵活的共享基础架构，可轻松扩展以满足不断增长的工作负载需求，而不会影响性能。通过利用 FlexPod 架构，此解决方案可提供 FlexPod 的全部优势，包括：

* * 性能可满足 Epic 工作负载要求。 * 根据参考工作负载要求（小型，中型，大型），可以部署不同的 ONTAP 平台来满足所需的 I/O 配置文件。
* * 可扩展性可轻松适应临床数据增长。 * 可按需动态扩展虚拟机（ VM ），服务器和存储容量，而不受传统限制。
* * 提高了效率。 * 借助融合虚拟化基础架构，可以更轻松地管理和存储数据，同时提高 Epic 软件的性能，从而缩短管理时间并降低 TCO 。NetApp OnCommand WFA 自动化可简化解决方案，将测试环境刷新时间从数小时或数天缩短为几分钟。
* * 降低风险。 * 利用基于定义的架构构建的经过预先验证的平台，最大限度地减少业务中断，消除部署猜测并适应持续的工作负载优化。
* * FlexPod 合作支持。 * NetApp 和 Cisco 建立了合作支持，这是一种强大，可扩展且灵活的支持模式，可满足 FlexPod 融合基础架构的独特支持要求。此模式结合了 NetApp 和 Cisco 的经验，资源和技术支持专业知识，可简化识别和解决客户的 FlexPod 支持问题描述的流程，而不管问题位于何处。FlexPod 合作支持模式有助于确保您的 FlexPod 系统高效运行并受益于最新技术，同时提供经验丰富的团队来帮助解决集成问题。
+
对于在 FlexPod 融合基础架构上运行诸如 Epic 等业务关键型应用程序的医疗保健组织来说， FlexPod 合作支持尤其重要。



下图显示了 FlexPod 合作支持模式。

image:ehr-epic-deploy_image3.png["错误：缺少图形映像"]

除了这些优势之外，采用 Epic 解决方案的 FlexPod 数据中心堆栈的每个组件还为 Epic EHR 工作流提供了特定优势。



=== Cisco Unified Computing System

Cisco UCS 是一个自我集成的自我感知系统，由一个与统一 I/O 基础架构互连的管理域组成。适用于 Epic 环境的 Cisco UCS 已与 Epic 基础架构建议和最佳实践保持一致，以帮助确保基础架构能够以最大可用性提供关键患者信息。

Epic 基于 Cisco UCS 架构的基础是 Cisco UCS 技术，它具有集成的系统管理， Intel Xeon 处理器和服务器虚拟化功能。这些集成技术可以解决数据中心的难题，并帮助客户实现他们为 Epic 设计数据中心的目标。Cisco UCS 将 LAN ， SAN 和系统管理统一为一个简化的链路，用于机架式服务器，刀片式服务器和 VM 。Cisco UCS 是一种端到端 I/O 架构，它采用 Cisco 统一网络结构和 Cisco Fabric Extender （ FEX ）技术，可将 Cisco UCS 中的每个组件连接到一个网络结构和一个网络层。

该系统设计为一个虚拟刀片式服务器机箱，可在多个刀片式服务器机箱，机架服务器和机架之间整合和扩展。该系统实施了一个彻底简化的架构，消除了填充传统刀片式服务器机箱的多个冗余设备，并产生了多个复杂层：以太网和 FC 交换机以及机箱管理模块。Cisco UCS 由一对冗余的 Cisco 互联阵列（ Fabric interc互 连， CLI ）组成，可为所有 I/O 流量提供单点管理和单点控制。

Cisco UCS 使用服务配置文件来帮助确保 Cisco UCS 基础架构中的虚拟服务器配置正确。服务配置文件包括有关服务器标识的关键服务器信息，例如 LAN 和 SAN 寻址， I/O 配置，固件版本，启动顺序，网络 VLAN ， 物理端口和 QoS 策略。可以在几分钟内动态创建服务配置文件并将其与系统中的任何物理服务器关联，而无需花费数小时或数天时间。将服务配置文件与物理服务器关联起来只需执行一项简单的操作，即可在环境中的服务器之间迁移身份，而无需更改任何物理配置。它有助于快速裸机配置故障服务器的更换件。

使用服务配置文件有助于确保在整个企业内一致地配置服务器。使用多个 Cisco UCS 管理域时， Cisco UCS Central 可以使用全局服务配置文件在域之间同步配置和策略信息。如果需要在一个域中执行维护，则可以将虚拟基础架构迁移到另一个域。这种方法有助于确保即使单个域脱机，应用程序也能继续以高可用性运行。

Cisco UCS 已在一段多年的时间内与 Epic 进行了广泛测试，以证明它符合服务器配置要求。Cisco UCS 是受支持的服务器平台，如客户的《 Epic 硬件配置指南》中所述。



=== Cisco Nexus

Cisco Nexus 交换机和 MDS 多层控制器可提供企业级连接和 SAN 整合。Cisco 多协议存储网络通过提供以下灵活性和选项降低业务风险： FC ，光纤连接（ Fibre Connection ， Ficon ），以太网 FC （ FCoE ）， IP 上 SCSI （ iSCSI ）和 IP 上 FC （ FCIP ）。

Cisco Nexus 交换机可在一个平台中提供最全面的数据中心网络功能集之一。它们可以为数据中心和园区核心提供高性能和高密度。此外，它们还为数据中心聚合，行尾和数据中心互连部署提供了一整套功能，可在一个具有高度弹性的模块化平台中实现。

Cisco UCS 可将计算资源与 Cisco Nexus 交换机和统一 I/O 网络结构集成在一起，用于识别和处理不同类型的网络流量，包括存储 I/O ，流式桌面流量，管理以及对临床和业务应用程序的访问：

* * 基础架构可扩展性。 * 虚拟化，高效的电耗和散热，自动化的云扩展，高密度和高性能都支持高效的数据中心增长。
* * 操作连续性。 * 该设计集成了硬件， NX-OS 软件功能和管理功能，可支持零停机环境。
* * 传输灵活性。 * 利用经济高效的解决方案逐步采用新的网络技术。


Cisco UCS 与 Cisco Nexus 交换机和 MDS 多层控制器相结合，可为 Epic 提供计算，网络和 SAN 连接解决方案。



=== NetApp ONTAP

运行 ONTAP 软件的 NetApp 存储可降低整体存储成本，同时提供 Epic 工作负载所需的低延迟读写响应时间和 IOPS 。ONTAP 支持全闪存和混合存储配置，可创建最佳存储平台以满足 Epic 要求。NetApp 闪存加速系统获得了 Epic 高舒适级别评级，为 Epic 客户提供了性能和响应能力，这是延迟敏感型 Epic 操作的关键。NetApp 还可以通过在一个集群中创建多个故障域，将生产与非生产隔离开来。NetApp 通过使用 ONTAP 最低 QoS 保证工作负载的最低性能级别来减少性能问题。

ONTAP 软件的横向扩展架构可以灵活地适应各种 I/O 工作负载。为了在提供模块化横向扩展架构的同时提供临床应用程序所需的吞吐量和低延迟，全闪存配置通常用于 ONTAP 架构。到 2020 年， Epic 将需要全闪存阵列，目前 Epic 需要全球 500 多万客户使用全闪存阵列。AFF 节点可以与混合（ HDD 和闪存）存储节点组合在同一个横向扩展集群中，适合存储高吞吐量的大型数据集。客户可以将 Epic 环境（从昂贵的 SSD 存储）克隆，复制和备份到其他节点上更经济的 HDD 存储，从而满足或超出基于 SAN 的克隆和生产磁盘池备份 Epic 准则。借助支持 NetApp 云的存储和 Data Fabric ，您可以备份到内部或云中的对象存储。

ONTAP 提供了在 Epic 环境中极其有用的功能，可简化管理，提高可用性和自动化，并减少所需的总存储量：

* * 卓越的性能。 * NetApp AFF 解决方案与 FAS 产品系列中的其他产品系列共享相同的统一存储架构， ONTAP 软件，管理接口，丰富的数据服务和高级功能集。全闪存介质与 ONTAP 的这种创新组合，可通过行业领先的 ONTAP 软件为全闪存存储提供稳定一致的低延迟和高 IOPS 。
* * 存储效率。 * 利用重复数据删除， NetApp FlexClone ，实时压缩，实时数据缩减，精简复制， 精简配置和聚合重复数据删除。


NetApp 重复数据删除可在 FlexVol 卷或数据成分卷中提供块级重复数据删除。从本质上说，重复数据删除会删除重复的块，从而仅在 FlexVol 卷或数据成分卷中存储唯一的块。

重复数据删除的粒度较高，并且在 FlexVol 卷或数据成分卷的活动文件系统上运行。它是应用程序透明的，因此可用于对使用 NetApp 系统的任何应用程序生成的数据进行重复数据删除。卷重复数据删除可以作为实时进程（从 Data ONTAP 8.3.2 开始）和 / 或后台进程运行，可以配置为通过命令行界面， NetApp System Manager 或 NetApp OnCommand Unified Manager 自动运行，计划运行或手动运行。

下图显示了 NetApp 重复数据删除在最高级别的工作原理。

image:ehr-epic-deploy_image4.png["错误：缺少图形映像"]

* * 节省空间的克隆。 * 借助 FlexClone 功能，您几乎可以即时创建克隆以支持备份和测试环境刷新。只有在进行更改后，这些克隆才会占用额外的存储空间。
* * 集成数据保护。 * 完整的数据保护和灾难恢复功能可帮助客户保护关键数据资产并提供灾难恢复。
* * 无中断运行。 * 可以执行升级和维护，而无需使数据脱机。
* * Epic 工作流自动化。 * NetApp 设计了 OnCommand WFA 工作流，用于自动执行和简化 Epic 备份解决方案以及更新高级， REL 和 REL VAL 等测试环境。这种方法无需使用任何自定义不受支持的脚本，从而减少了 NetApp 和 Epic 最佳实践所需的部署时间，操作时间和磁盘容量。
* 通过 * QoS 。 * 存储 QoS ，您可以限制潜在的抢占资源的工作负载。更重要的是， QoS 可以保证 Epic 生产等关键工作负载的最低性能。NetApp QoS 可以通过限制争用来减少与性能相关的问题。
* * OnCommand Insight Epic 信息板。 * Epic Pulse 工具可以识别应用程序问题描述及其对最终用户的影响。OnCommand Insight Epic 信息板有助于确定问题描述的根发生原因，并全面了解整个基础架构堆栈。
* * Data Fabric 。 * NetApp Data Fabric 可简化并集成云端和内部环境中的数据管理，加快数字化转型的步伐。它提供一致且集成的数据管理服务和应用程序，以提高数据可见性和洞察力，实现数据访问和控制以及数据保护和安全性。NetApp 与 AWS ， Azure ， Google 公有 Cloud 和 IBM Cloud Cloud Cloud 相集成，为客户提供了广泛的选择。


下图显示了适用于 Epic 工作负载的 FlexPod 。

image:ehr-epic-deploy_image5.png["错误：缺少图形映像"]



== Epic 概述



=== 概述

Epic 是一家软件公司，总部位于威斯康星州维罗纳。以下摘录自该公司网站，介绍了 Epic 软件支持的功能范围：

Epic 为大中型医疗团体，医院和综合医疗保健组织提供软件，与社区医院，学术机构，儿童组织，安全网络提供商和多医院系统等客户合作。我们的集成软件涵盖临床，访问和收入功能，并扩展到家庭。"

涵盖 Epic 软件所支持的广泛功能超出了本文档的讨论范围。但是，从存储系统的角度来看，对于每个部署，所有 Epic 软件都共享一个以患者为中心的数据库。EPIC 使用 InterSystems Cach é 数据库，该数据库可用于各种操作系统，包括 IBM AIX 和 Linux 。

本文档的主要重点是，使 FlexPod 堆栈（服务器和存储）能够满足 Epic 软件环境中使用的 InterSystems Cache 数据库的性能驱动型要求。通常，为生产数据库提供专用存储资源，而影子数据库实例则与其他 Epic 软件相关组件（例如，清晰度报告工具）共享二级存储资源。其他软件环境存储（例如用于应用程序和系统文件的存储）也由二级存储资源提供。



=== 专为特定 Epic 工作负载而设计

尽管 Epic 不转售服务器，网络或存储硬件，虚拟机管理程序或操作系统， 该公司对基础架构堆栈的每个组件都有特定的要求。因此， Cisco 和 NetApp 携手测试并支持 FlexPod 数据中心的成功配置，部署和支持，以满足客户的 Epic 生产环境要求。通过这一测试，技术文档以及越来越多的成功客户， Epic 对 FlexPod 数据中心满足 Epic 客户需求的能力表现出了越来越高的舒适性。请参见《 Epic 存储产品和技术状态》文档和《 Epic 硬件配置指南》。"

端到端 Epic 参考架构不是整体式的，而是模块化的。下图概述了五个不同的模块，每个模块都具有独特的工作负载特征。

image:ehr-epic-deploy_image6.png["错误：缺少图形映像"]

这些互连但截然不同的模块往往导致 Epic 客户不得不购买和管理存储和服务器的专用孤岛。这些平台可能包括一个供应商的传统第 1 层 SAN 平台；一个不同的 NAS 文件服务平台；特定于 FC ， FCoE ， iSCSI ， NFS 和 SMB/CIFS 协议要求的平台； 单独的闪存存储平台；以及尝试将这些孤岛作为虚拟存储池进行管理的设备和工具。

借助通过 ONTAP 连接的 FlexPod ，您可以实施针对每个目标工作负载优化的专用节点，从而实现规模经济，并简化一致计算，网络和存储数据中心的运营管理。



=== Cache 生产数据库

Cache 由 InterSystems 制造，是构建 Epic 的数据库系统。Epic 中的所有患者数据都存储在 Cach é 数据库中。

在 InterSystems Cache 数据库中，数据服务器是持久存储数据的访问点。应用程序服务器为数据库提供服务，并向数据服务器发出数据请求。对于大多数 Epic 软件环境，在一个数据库服务器中使用对称多处理器架构足以满足 Epic 应用程序的数据库请求。在大型部署中，使用 InterSystems 的 Enterprise Cach é 协议可以支持分布式数据库模型。

通过使用支持故障转移的集群硬件，备用数据服务器可以访问与主数据服务器相同的磁盘（即存储），并在发生硬件故障时接管处理职责。

系统间还提供了一些技术来满足影子，灾难恢复和高可用性（ HA ）要求。系统间的影子技术可用于将 Cach é 数据库从主数据服务器异步复制到一个或多个二级数据服务器。



=== 清晰明了

Cogito clarity 是 Epic 的集成分析和报告套件。Cogito clarity 作为 Cach é 生产数据库的副本，可提供有助于改善患者护理，分析临床表现，管理收入和衡量合规性的信息。在 OLAP 环境中， Cogito clarity 会利用 Microsoft SQL Server 或 Oracle RDBMS 。由于此环境与 Cach é 生产数据库环境不同，因此，请务必按照 Cisco 和 NetApp 发布的适用于 SQL Server 和 Oracle 环境的经验证的设计指南，构建一个 FlexPod 平台，以满足 Cogitto clarity 要求。



=== EPIC 超空间桌面服务

超空间是 Epic 套件的表示组件。它从 Cach e 数据库读取和写入数据，并将其提供给用户。大多数医院和诊所员工都使用超空间应用程序与 Epic 进行交互。

尽管 Hyperspace 可以直接安装在客户端工作站上，但许多医疗保健组织都通过 Citrix XenApp 场或虚拟桌面基础架构 (VDI) 使用应用程序虚拟化向用户提供应用程序。支持使用 ESXi 虚拟化 XenApp 服务器场。有关配置和实施准则，请参见 " 参考 " 一节中的适用于 ESXi 的 FlexPod 的经验证设计。

对于有意部署完整 VDI Citrix XenDesktop 或 VMware Horizon View 系统的客户，必须格外注意以获得最佳临床工作流体验。获得精确配置的基本步骤是，清楚地了解并记录项目范围，包括详细映射用户配置文件。许多用户配置文件都可以访问 Epic 以外的应用程序。配置文件中的变量包括：

* 身份验证，尤其是适用于游访临床医生用户的 Imprivata 或类似的点击即用单点登录（ Tap- and-Go Single Sign-On ， SSO ）
* PACS 图像查看器
* 口授软件和设备，例如，《龙的自然传人》
* 文档管理，例如 Hyland OnBase 或 Perceptive Software 集成
* 部门应用程序，例如来自 3M Health Care 或 OptumHealth 的运行状况信息管理编码
* Epic 之前的传统 EMR 或收入周期应用程序，客户可能仍会使用这些应用程序
* 视频会议功能，可能需要在服务器中使用视频加速卡


您的认证 FlexPod 经销商将与您的 Cisco 和 NetApp Epic 解决方案架构师和专业服务提供商合作，根据您的特定 VDI 要求对解决方案进行范围界定和构建。



=== 灾难恢复和卷影副本

* 正在发展为双主动数据中心 *

在 Epic 软件环境中，会部署一个以患者为中心的数据库。Epic 的硬件要求是指托管主 Cach é 数据服务器的物理服务器作为生产数据库服务器。此服务器需要为属于主数据库实例的文件提供专用的高性能存储。对于 HA ， Epic 支持使用可访问相同文件的故障转移数据库服务器。

通常会部署报告影子数据库服务器，以便对生产数据进行只读访问。它托管一个配置为生产 Cach é 数据服务器备份影子的 Cach é 数据服务器。此数据库服务器与生产数据库服务器具有相同的存储容量要求。从性能角度来看，此存储的大小不同，因为报告的工作负载特征不同。

此外，还可以部署影子数据库服务器来支持 Epic 的只读（ Read-Only ， SRO ）功能，在该功能中，系统会以只读模式访问生产副本。出于业务连续性原因，可以将此类数据库服务器切换到读写模式。

为了满足业务连续性和灾难恢复（ DR ）目标，灾难恢复影子数据库服务器通常部署在与生产和 / 或报告影子数据库服务器地理位置不同的站点上。灾难恢复影子数据库服务器还托管一个配置为生产 Cache 数据服务器的备份影子的 Cache 数据服务器。可以将其配置为在生产站点长时间不可用时充当卷影读写实例。与报告影子数据库服务器一样，其数据库文件的存储与生产数据库服务器具有相同的容量要求。相比之下，出于业务连续性的原因，此存储的规模从性能角度来看与生产规模相同。

对于需要 Epic 持续正常运行并拥有多个数据中心的医疗保健组织，可以使用 FlexPod 为 Epic 部署构建主动 - 主动设计。在主动 - 主动情况下， FlexPod 硬件安装在第二个数据中心中，用于为 Epic 提供持续可用性和快速故障转移或灾难恢复解决方案。为客户提供的《 Epic 硬件配置指南》应与 Cisco 和 NetApp 共享，以便于设计符合 Epic 准则的主动 - 主动架构。



=== 许可 Cach

NetApp 和 Cisco 在按照 Epic 的平台迁移最佳实践将原有 Epic 安装迁移到 FlexPod 系统方面经验丰富。如果需要进行平台迁移，他们可以处理任何详细信息。

对于迁移到 Epic 的新客户或评估硬件和软件更新的现有客户，需要考虑的一个因素是 Cach e 数据库的许可。系统间 Cache 可以随平台专用许可证（仅限单个硬件操作系统架构）或与平台无关的许可证一起购买。独立于平台的许可证允许将 Cach é 数据库从一个架构迁移到另一个架构，但成本高于平台专用许可证。


NOTE: 拥有平台专用许可的客户可能需要为交换机平台的额外许可成本进行预算。



=== EPIC 存储注意事项

* RAID 性能和保护 *

Epic 认可 NetApp RAID DP ， RAID-TEC 和 WAFL 技术在实现符合 Epic 定义要求的数据保护和性能级别方面的价值。此外，借助 NetApp 效率技术， NetApp 存储系统可以提供 Epic 环境所需的整体读取性能，而使用的磁盘驱动器更少。

Epic 要求使用 NetApp 规模估算方法正确调整 NetApp 存储系统的大小，以便在 Epic 环境中使用。有关详细信息，请参见 TR-3930i ：《 NetApp Epic 规模估算准则》。要查看本文档，需要访问 NetApp Field Portal 。

* 生产磁盘组的隔离 *

有关全闪存阵列上存储布局的详细信息，请参见 Epic 全闪存参考架构战略手册。总之，磁盘池 1 （生产）必须存储在与磁盘池 2 不同的存储故障域中。同一集群中的 ONTAP 节点是一个故障域。

Epic 建议对所有完整大小的操作数据库使用闪存，而不仅仅是生产操作数据库。目前，这种方法只是一种建议；但是，到 2020 年，所有客户都需要采用这种方法。

对于生产 OLTP 数据库预计每秒超过 500 万个全局引用的大型站点，应将 Cogito 工作负载放置在第三个阵列上，以最大限度地降低对生产 OLTP 数据库性能的影响。本文档中使用的测试台配置为全闪存阵列。

* 高可用性和冗余 *

Epic 建议使用 HA 存储系统来缓解硬件组件故障。此建议从冗余电源等基本硬件扩展到多路径网络等网络连接。

在存储节点级别， Epic 重点介绍了如何使用冗余来实现无中断升级和无中断存储扩展。

出于上述性能隔离原因，池 1 存储必须位于与池 2 存储不同的磁盘上， NetApp 存储阵列默认提供即装即用。这种隔离还可以为磁盘级故障提供数据级冗余。

* 存储监控 *

Epic 建议使用有效的监控工具来识别或预测任何存储系统瓶颈。

NetApp OnCommand Unified Manager 与 ONTAP 捆绑在一起，可用于监控容量，性能和性能余量。对于使用 OnCommand Insight 的客户，我们为 Epic 开发了一个 Insight 信息板，可以全面了解存储，网络和计算，而不仅仅是 Epic Pulse 监控工具提供的功能。虽然 Pulse 可以检测到问题描述，但 Insight 可以在问题描述产生影响之前尽早识别它。

* Snapshot 技术 *

Epic 认识到，与基于文件的传统备份相比，基于存储节点的 NetApp Snapshot 技术可以最大限度地降低对生产工作负载的性能影响。如果要将 Snapshot 备份用作生产数据库的恢复源，则在实施备份方法时必须牢记数据库一致性。

* 存储扩展 *

避免在不考虑存储热点的情况下扩展存储时发出史诗般的警告。例如，如果频繁以小幅增量添加存储，则在数据不会在磁盘之间均匀分布的情况下，存储热点可能会出现。



== 全面的管理工具和自动化功能



=== 采用 Cisco UCS Manager 的 Cisco Unified Computing System

Cisco 重点关注三个关键要素，以提供最佳数据中心基础架构：简化，安全性和可扩展性。Cisco UCS Manager 软件与平台模块化相结合，可提供一个简化，安全且可扩展的桌面虚拟化平台。

* * 简化。 * Cisco UCS 提供了一种全新的行业标准计算方法，并为所有工作负载提供了数据中心基础架构的核心。Cisco UCS 的众多功能和优势包括减少所需服务器数量，减少每台服务器使用的缆线数量，以及通过 Cisco UCS 服务配置文件快速部署或重新配置服务器的能力。由于需要管理的服务器和缆线更少，并且服务器和应用程序工作负载配置更简化，因此操作得到了显著简化。使用 Cisco UCS Manager 服务配置文件，可以在几分钟内配置多个刀片式服务器和机架式服务器。Cisco UCS 服务配置文件消除了服务器集成运行手册并消除了配置偏差。这种方法可以加快最终用户的工作效率，提高业务灵活性，并允许将 IT 资源分配给其他任务。
+
Cisco UCS Manager （ UCSM ）可自动执行许多常见且容易出错的数据中心操作，例如配置和配置服务器，网络和存储访问基础架构。此外， Cisco UCS B 系列刀片式服务器和 C 系列机架式服务器占用大量内存，可以提高应用程序用户密度，从而有助于降低服务器基础架构要求。

+
通过简化，可以更快，更成功地部署 Epic 基础架构。Cisco 及其技术合作伙伴（如 VMware 和 Citrix ）以及存储合作伙伴 IBM ， NetApp 和 Pure Storage 开发了经过验证的集成架构，包括预定义的融合架构基础架构软件包（如 FlexPod ）。Cisco 虚拟化解决方案已通过 VMware vSphere ， Linux ， Citrix XenDesktop 和 XenApp 的测试。

* * 安全。 * 虽然虚拟机本身比物理前代产品更安全，但它们带来了新的安全挑战。使用虚拟桌面等通用基础架构的任务关键型 Web 和应用程序服务器现在面临的安全威胁风险更高。现在，虚拟机间流量已成为 IT 经理需要解决的一个重要安全问题，尤其是在 VM 使用 VMware vMotion 在服务器基础架构中移动的动态环境中。
+
因此，虚拟化极大地提高了虚拟机级别对策略和安全性的感知能力，尤其是考虑到虚拟机在扩展计算基础架构中的移动性具有动态性和流动性。新虚拟桌面的快速普及进一步增强了虚拟化感知型网络和安全基础架构的重要性。适用于桌面虚拟化的 Cisco 数据中心基础架构（ Cisco UCS ， Cisco MDS 和 Cisco Nexus 系列解决方案）可提供强大的数据中心，网络和桌面安全性，并提供从桌面到虚拟机管理程序的全面安全性。通过对虚拟桌面进行分段，虚拟机感知型策略和管理以及 LAN 和 WAN 基础架构中的网络安全性，安全性得到了增强。

* * 可扩展。 * 虚拟化解决方案的增长是不可避免的，因此解决方案必须能够随着这种增长进行扩展和可预测的扩展。Cisco 虚拟化解决方案支持较高的虚拟机密度（每台服务器具有 VM ），而其他服务器则可通过近乎线性的性能进行扩展。Cisco 数据中心基础架构提供了一个灵活的平台来实现增长并提高业务灵活性。Cisco UCS Manager 服务配置文件允许按需配置主机，并使部署数十台主机与部署数百台主机一样简单。
+
Cisco UCS 服务器可提供近乎线性的性能和可扩展性。Cisco UCS 实施了获得专利的 Cisco 扩展内存技术，可通过更少的插槽提供较大的内存占用空间（通过双插槽和四插槽服务器可扩展到高达 1 TB 的内存）。使用统一网络结构技术作为组件， Cisco UCS 服务器聚合带宽可扩展到每台服务器高达 80 Gbps ，北向 Cisco UCS 互联阵列可按线路速率输出 2Tbps ，有助于防止桌面虚拟化 I/O 和内存瓶颈。Cisco UCS 采用基于网络结构的高性能，低延迟统一网络架构，可支持大量虚拟桌面流量，包括高分辨率视频和通信流量。此外，作为 Cisco 虚拟化解决方案的一部分， Cisco 存储合作伙伴 NetApp 还可以在启动和登录风暴期间帮助保持数据可用性和最佳性能。



Cisco UCS ， Cisco MDS 和 Cisco Nexus 数据中心基础架构设计提供了一个出色的增长平台，可通过透明扩展服务器，网络和存储资源来支持桌面虚拟化，数据中心应用程序和云计算。



=== VMware vCenter Server

VMware vCenter Server 提供了一个集中式平台来管理 Epic 环境，因此医疗保健组织可以放心地自动化和交付虚拟基础架构：

* * 部署简单。 * 使用虚拟设备快速轻松地部署 vCenter Server 。
* * 集中控制和可见性。 * 从一个位置管理整个 vSphere 基础架构。
* * 主动式优化。 * 分配和优化资源以实现最高效率。
* * 管理。 * 使用功能强大的插件和工具简化管理并扩展控制。




=== 适用于 VMware vSphere 的 Virtual Storage Console

NetApp 适用于 VMware vSphere 的 Virtual Storage Console （ VSC ）， VASA Provider 和 Storage Replication Adapter （ SRA ）是一个虚拟设备。此产品套件包含 VSC ， VASA Provider 和 SRA 的功能。此产品套件包括 SRA 和 VASA Provider ，作为 vCenter Server 的插件，可使用 NetApp 存储系统为 VMware 环境中的 VM 提供端到端生命周期管理。

VSC ， VASA Provider 和 SRA 虚拟设备可与 VMware vSphere Web Client 平稳集成，并支持您使用 SSO 服务。在具有多个 vCenter Server 实例的环境中，要管理的每个 vCenter Server 实例都必须有自己注册的 VSC 实例。通过 VSC 信息板页面，您可以快速检查数据存储库和 VM 的整体状态。

通过部署 VSC ， VASA Provider 和 SRA 虚拟设备，您可以执行以下任务：

* * 使用 VSC 部署和管理存储以及配置 ESXi 主机。 * 您可以使用 VSC 为 VMware 环境中的存储控制器添加凭据，删除凭据，分配凭据以及设置权限。此外，您还可以管理连接到 NetApp 存储系统的 ESXi 服务器。您可以通过单击几下鼠标为所有主机设置主机超时， NAS 和多路径的建议最佳实践值。您还可以查看存储详细信息并收集诊断信息。
* * 使用 VASA Provider 创建存储功能配置文件并设置警报。 * 启用 VASA Provider 扩展后，适用于 ONTAP 的 VASA Provider 将立即注册到 VSC 中。您可以创建和使用存储功能配置文件和虚拟数据存储库。您还可以设置警报，以便在卷和聚合的阈值接近全满时向您发出警报。您可以监控虚拟机磁盘（ VMDK ）和在虚拟数据存储库上创建的 VM 的性能。
* * 使用 SRA 进行灾难恢复。 * 您可以使用 SRA 在环境中配置受保护站点和恢复站点，以便在发生故障时进行灾难恢复。




=== NetApp OnCommand Insight 和 ONTAP

NetApp OnCommand Insight 将基础架构管理集成到 Epic 服务交付链中。这种方法可以使医疗保健组织更好地控制，自动化和分析存储，网络和计算基础架构。它可以优化当前基础架构，以获得最大收益，同时简化确定购买内容和购买时间的过程。它还可以降低与复杂技术迁移相关的风险。由于不需要代理，因此安装简单，无中断。系统会持续发现已安装的存储和 SAN 设备，并收集详细信息以全面了解整个存储环境。您可以快速识别使用不当，错位，未充分利用或孤立的资产，并回收这些资产以推动未来扩展：

* * 优化现有资源。 * 使用已建立的最佳实践确定使用不当，未充分利用或孤立的资产，以避免出现问题并满足服务级别要求。
* * 做出更明智的决策。 * 实时数据有助于更快地解决容量问题，以便准确规划未来的购买，避免超支和推迟资本支出。
* * 加速 IT 计划。 * 更好地了解虚拟环境以管理风险，最大限度地减少停机时间并加快云部署速度。
* * OnCommand Insight 信息板。 * 此 Epic 信息板是由 NetApp 为 Epic 开发的，可全面查看整个基础架构堆栈，并超越了 Pulse 监控。OnCommand Insight 可以主动识别计算，网络和存储中的争用问题。




=== NetApp OnCommand Workflow Automation

OnCommand WFA 是一款免费软件解决方案，可帮助您自动执行存储管理任务，例如配置，迁移，停用，数据保护配置， 和克隆存储。您可以使用 OnCommand WFA 构建工作流来完成流程指定的任务。

工作流是一项重复性的程序性任务，由多个步骤组成，其中包括以下类型的任务：

* 为数据库或文件系统配置，迁移或停用存储
* 设置新的虚拟化环境，包括存储交换机和数据存储库
* 在端到端业务流程中为应用程序设置存储


可以构建工作流，以便根据 Epic 工作负载的建议最佳实践快速设置和配置 NetApp 存储。适用于 Epic 的 OnCommand WFA 工作流取代了 Epic 工作流自动备份和测试环境刷新所需的所有客户不支持的脚本。



=== NetApp SnapCenter

SnapCenter 是一个统一的可扩展平台，可用于数据保护。SnapCenter 可提供集中控制和监管，使用户能够管理应用程序一致的数据库一致的 Snapshot 副本。SnapCenter 支持从主目标和二级目标（ SnapMirror 和 SnapVault ）备份，还原，克隆和备份虚拟机（ VM ）并对其进行验证。借助 SnapCenter ，数据库，存储和虚拟化管理员只需一个工具即可管理各种应用程序，数据库和 VM 的备份，还原和克隆操作。

通过使用资源组和策略管理（包括计划和保留设置）， SnapCenter 可以实现集中式应用程序资源管理并轻松执行数据保护作业。SnapCenter 通过使用信息板，多个报告选项，作业监控以及日志和事件查看器提供统一报告。

SnapCenter 可以备份 VMware ， RHEL ， SQL ， Oracle 和 CIFS 。结合 Epic WFA 备份工作流集成， NetApp 可为任何 Epic 环境提供备份解决方案。
